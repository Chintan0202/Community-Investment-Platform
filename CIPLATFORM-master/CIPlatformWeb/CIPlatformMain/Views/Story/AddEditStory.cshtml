@model CIPlatformMain.Entities.ViewModel.StoryData
<partial name="_navigation" />

@{
    if(TempData["EmptyField"] !=null)
    {
       <script>
       alert("Please Enter Something In Input Fields Than Submit The FORM");
       </script>
    }
}
<style>
    .tox-statusbar, .tox-menubar, .tox-notifications-container {
        display: none !important;
    }

    .input-div {
        width: 100%;
        height: 200px;
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        border: 2px dotted black;
        background-color: white;
        position: relative;
    }

    .file {
        width: 100%;
        height: 100%;
        position: absolute;
        opacity: 0;
        cursor: pointer;
    }

    output {
        width: 100%;
        min-height: 150px;
        display: flex;
        justify-content: flex-start;
        flex-wrap: wrap;
        gap: 15px;
        position: relative;
        border-radius: 5px;
    }

        output .image {
            height: 150px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
        }

            output .image img {
                height: 100%;
                width: 100%;
            }

            output .image span {
                position: absolute;
                top: -4px;
                right: 4px;
                cursor: pointer;
                font-size: 22px;
                color: white;
            }

                output .image span:hover {
                    opacity: 0.8;
                }

        output .span--hidden {
            visibility: hidden;
        }

    .button-row {
        display: flex;
        justify-content: center;
    }

    .start-btn {
        margin-right: auto;
    }

    .end-btn {
        display: flex;
    }

</style>
<script src="https://cdn.tiny.cloud/1/<your-api-key>/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
<div class="container mt-4">
    <h1>Share Your Story</h1>
    <input hidden id="StoryId" />
    <div class="row">
        <div class="col-md-4">
            <label for="MissionId">Select Mission</label>
            <select class="form-select" id="MissionId">
                <option>Select Mission</option>
                @foreach (var m in Model.Applications)
                {
                    <option class="mission-id" value="@m.MissionId">@m.Mission.Title</option>
                }
            </select>
        </div>
        <div class="col-md-4">
            <label for="StoryTitle">My Story Title</label>
            <input type="text" class="form-control title" id="StoryTitle">
        </div>
        <div class="col-md-4">
            <label for="StoryDate">Date</label>
            <input type="date" class="form-control publish-date" id="StoryDate">
        </div>
    </div>
    <p class="mt-4">My Story</p>
    <textarea id="editor" type="text" class="mt-3"></textarea>

    <label for="text-input" class="mt-5">Enter Video URL</label>
    <input type="text" class="form-control" id="StoryVideoUrl">

    <div class="input-div mt-3">
        <p>Drag & drop photos here or <strong>Browse</strong></p>
        <input type="file" id="StoryImages" class="file" multiple="multiple" accept="image/jpeg, image/png, image/jpg">
    </div>

    <div class="d-flex">
        <output id="output"></output>
        <output id="output1"></output>
    </div>
    <div class="button-row mt-3">
        <button class="btn btn-outline-dark  rounded-pill px-3 start-btn">Cancel</button>

        <div class="end-btn">
            <button class="btn btn-outline-warning  me-2 rounded-pill px-3" onclick=" AddEditStory() ">Save</button>
            <button class="btn btn-outline-warning rounded-pill" disabled>Submit</button>
        </div>
    </div>
</div>
<script src="~/js/AddEditStory.js"></script>