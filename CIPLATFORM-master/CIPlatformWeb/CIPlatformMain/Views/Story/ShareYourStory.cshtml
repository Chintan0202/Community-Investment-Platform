@using CIPlatformMain.Entities.Models

<partial name="_navigation" />
<html>
<head>
    <script src="https://cdn.tiny.cloud/1/<your-api-key>/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

</head>
<style>
    .tox-statusbar, .tox-menubar, .tox-notifications-container {
        display: none !important;
    }

    #image-upload {
        width: 100%;
        height: 100%;
        border: 2px dashed #ccc;
        border-radius: 10px;
        padding: 10px;
        text-align: center;
        font-size: 1.2em;
        margin-bottom: 10px;
    }

        #image-upload:hover {
            border-color: #333;
        }

    #preview img {
        width: 70px;
    }

    .button-row {
        display: flex;
        justify-content: center;
    }

    .start-btn {
        margin-right: auto;
    }

    .end-btn {
        display: flex;
    }

</style>
<body>

    <form method="post" action="ShareYourStoryAdd" enctype="multipart/form-data">

        <div class="container mt-4">
            <h1>Share Your Story</h1>

            <div class="row">
                <div class="col-md-4">
                    <label for="select-tag">Select Mission</label>
                    <select class="form-select" id="select-tag" name="missionId">
                        <option>Select Mission</option>
                        @foreach (var m in ViewData["Missions"] as IList<MissionApplication>)
                        {
                            <option class="mission-id" value="@m.MissionId">@m.Mission.Title</option>
                        }
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="text-input">My Story Title</label>
                    <input type="text" class="form-control title" id="text-input" name="storyTitle">
                </div>
                <div class="col-md-4">
                    <label for="date-picker">Date</label>
                    <input type="date" class="form-control publish-date" id="date-picker" name="storyDate">
                </div>
            </div>
            <p class="mt-4">My Story</p>
            <textarea id="editor" type="text" class="mt-3" name="storyDiscription"></textarea>

            <label for="text-input" class="mt-5">Enter Video URL</label>
            <input type="text" class="form-control" id="text-input" name="storyUrl">

            <div class="input-div position-relative text-center font-weight-bold text-muted d-block p-3 mt-2" style="height: 100px;border: 2px dashed #ccc;">
                <img src="~/images/drag-and-drop.png" />
                <input id="uploadFile" type="file" class="file position-absolute top-0 start-0 opacity-0" multiple accept="image/jpeg,image/png,image/jpg"
                       style="height: 100%;width: 100%;" name="formFile">

            </div>

            <div class="col-12 pt-2">
                <output id="preview" class="d-flex flex-wrap overflow-scroll" style="max-height:150px"></output>
            </div>

            <div class="button-row mt-3">
                <button class="btn btn-outline-dark  rounded-pill px-3 start-btn">Cancel</button>

                <div class="end-btn">
                    <button class="btn btn-outline-warning  me-2 rounded-pill px-3" type="submit">Save</button>
                    <button class="btn btn-outline-warning rounded-pill" disabled>Submit</button>
                </div>
            </div>
        </div>

    </form>

    @if (ViewBag.status == "DRAFT")
    {
        <script>
              Swal.fire({
              icon: 'error',
              title: 'Oops...',
              text: 'Something went wrong!'
            })
        </script>
    }

    <script src="~/js/ShareStory.js"></script>
   
</body>
</html>





